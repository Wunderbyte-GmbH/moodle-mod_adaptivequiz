/**
 * Customized output for the attempt administration chart.
 *
 * The class overrides some definitions from core/chart_output_chartjs for custom output.
 *
 * @module     mod_adaptivequiz/attempt_administration_chart_output
 * @copyright  2024 Vitaly Potenko <potenkov@gmail.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_adaptivequiz/attempt_administration_chart_output",["core/chart_output_chartjs","core/chartjs","mod_adaptivequiz/attempt_report_chart_data_indices"],(function(Output,Chartjs,DatasetIndices){const tooltipItemsFilter=function(tooltipItem){return!(tooltipItem.datasetIndex===DatasetIndices.STANDARD_ERROR_MAX||tooltipItem.datasetIndex===DatasetIndices.STANDARD_ERROR_MIN)},afterTooltipItemLabel=function(tooltipItem){if(tooltipItem.datasetIndex!==DatasetIndices.ABILITY_MEASURE&&tooltipItem.datasetIndex!==DatasetIndices.ADMINISTERED_DIFFICULTY)return"";if(tooltipItem.datasetIndex===DatasetIndices.ABILITY_MEASURE){const stdErrorSeries=this._chart.getSeries()[DatasetIndices.STANDARD_ERROR_PERCENT],stdErrorValue=stdErrorSeries.getValues()[tooltipItem.dataIndex];return"".concat(stdErrorSeries.getLabel(),": ").concat(stdErrorValue)}const rightWrongSeries=this._chart.getSeries()[DatasetIndices.CORRECT_WRONG_FLAG],rightWrongValue=rightWrongSeries.getValues()[tooltipItem.dataIndex];return"".concat(rightWrongSeries.getLabel(),": ").concat(rightWrongValue)},legendConfig=function(){return{labels:{generateLabels(chart){let labels=Chartjs.defaults.plugins.legend.labels.generateLabels(chart);return labels[DatasetIndices.STANDARD_ERROR_MAX].text=labels[DatasetIndices.STANDARD_ERROR_PERCENT].text,labels.splice(DatasetIndices.STANDARD_ERROR_MIN,1),labels=labels.filter((label=>!label.hidden)),labels}},onClick:function(){return!1}}};function AttemptAdministrationChartOutput(){Output.apply(this,arguments)}return AttemptAdministrationChartOutput.prototype=Object.create(Output.prototype),AttemptAdministrationChartOutput.prototype._makeConfig=function(){let config=Output.prototype._makeConfig.apply(this,arguments);return config.data.datasets[DatasetIndices.STANDARD_ERROR_MAX].pointStyle=!1,config.data.datasets[DatasetIndices.STANDARD_ERROR_MAX].showLine=!1,config.data.datasets[DatasetIndices.STANDARD_ERROR_MIN].pointStyle=!1,config.data.datasets[DatasetIndices.STANDARD_ERROR_MIN].showLine=!1,config.data.datasets[DatasetIndices.STANDARD_ERROR_PERCENT].hidden=!0,config.data.datasets[DatasetIndices.CORRECT_WRONG_FLAG].hidden=!0,config.options.plugins.tooltip.filter=tooltipItemsFilter,config.options.plugins.tooltip.callbacks.afterLabel=afterTooltipItemLabel.bind(this),config.options.plugins.legend=legendConfig(),config},AttemptAdministrationChartOutput}));

//# sourceMappingURL=attempt_administration_chart_output.min.js.map